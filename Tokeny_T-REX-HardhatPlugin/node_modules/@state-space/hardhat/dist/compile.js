"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const task_names_1 = require("hardhat/builtin-tasks/task-names");
const config_1 = require("hardhat/config");
(0, config_1.task)(task_names_1.TASK_COMPILE_SOLIDITY_GET_COMPILATION_JOB_FOR_FILE).setAction(async (_args, _hre, runSuper) => {
    const compilationJob = (await runSuper());
    if (!compilationJob.solidityConfig) {
        return compilationJob;
    }
    const settings = compilationJob.solidityConfig.settings;
    if (!settings.outputSelection)
        settings.outputSelection = {};
    if (!settings.outputSelection["*"])
        settings.outputSelection["*"] = {};
    if (!settings.outputSelection["*"]["*"])
        settings.outputSelection["*"]["*"] = [];
    if (!settings.outputSelection["*"]["*"].includes("storageLayout")) {
        settings.outputSelection["*"]["*"].push("storageLayout");
    }
    return compilationJob;
});
//# sourceMappingURL=compile.js.map