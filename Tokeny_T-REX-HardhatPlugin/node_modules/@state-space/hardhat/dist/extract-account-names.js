"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractAccountNames = extractAccountNames;
function extractAccountNames(accounts) {
    if (accounts == null)
        return {};
    let result = {};
    if (typeof accounts == "object") {
        if (Array.isArray(accounts)) {
            for (const account of accounts) {
                result = { ...result, ...extractAccountNames(account) };
            }
        }
        else {
            for (const [k, v] of Object.entries(accounts)) {
                if (isAddressLike(v)) {
                    result[k] = v;
                }
                else {
                    result = { ...result, ...extractAccountNames(v) };
                }
            }
        }
    }
    return result;
}
function isAddressLike(obj) {
    if (obj == null)
        return false;
    if (typeof obj == "string") {
        return obj.startsWith("0x") && obj.length == 42;
    }
    if ("address" in obj && typeof obj.address == "string") {
        return isAddressLike(obj.address);
    }
    if ("getAddress" in obj && typeof obj.getAddress == "function") {
        return true;
    }
    return false;
}
//# sourceMappingURL=extract-account-names.js.map